"use strict";(self.webpackChunkneo_mjs_realworld_example_app=self.webpackChunkneo_mjs_realworld_example_app||[]).push([[482],{482:(e,o,a)=>{a.r(o),a.d(o,{default:()=>i});var r=a(74),s=a(194);class n extends r.Z{static getConfig(){return{className:"Neo.main.addon.ServiceWorker",singleton:!0}}construct(e){if("serviceWorker"in navigator){let e=this,o=Neo.config,a="development"===o.environment,r=a?"ServiceWorker.mjs":"serviceworker.js",n=window.location.pathname.includes("/examples/")?"examples/":"apps/",t=a?{type:"module"}:{},i=(a?o.basePath:o.workerBasePath)+(a?n:"")+r,l=navigator.serviceWorker;window.addEventListener("beforeunload",e.onBeforeUnload.bind(e)),l.register(i,t).then((e=>{l.ready.then((()=>{l.onmessage=s.Z.onWorkerMessage.bind(s.Z),s.Z.sendMessage("service",{action:"registerNeoConfig",data:o})}))}))}}onBeforeUnload(){s.Z.sendMessage("service",{action:"unregisterPort"})}}Neo.applyClassConfig(n);let t=Neo.create(n);Neo.applyToGlobalNs(t);const i=t}}]);