"use strict";(self.webpackChunkneo_mjs_realworld_example_app=self.webpackChunkneo_mjs_realworld_example_app||[]).push([[128],{9748:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var o=n(5074);class r extends o.Z{static getConfig(){return{className:"Neo.plugin.Base",ntype:"plugin",owner:null}}constructor(e){super(e);let t=this;t.owner.on("mounted",t.onOwnerMounted,t)}onOwnerMounted(){}}Neo.applyClassConfig(r);class s extends r{static getConfig(){return{className:"Neo.list.plugin.Animate",columns:null,itemHeight:200,itemMargin:10,itemWidth:300,ownerRect:null,rows:null}}constructor(e){super(e);let t=this;t.adjustCreateItem(),t.owner.store.on({filter:t.onFilter,sort:t.onSort,scope:t})}adjustCreateItem(){let e=this,t=e.owner;e.ownerCreateItem=t.createItem.bind(t),t.createItem=e.createItem.bind(t,e)}createItem(e,t,n){let o,r,s,i,l=e.ownerCreateItem(t,n),a=e.itemHeight,m=e.itemWidth,c=e.itemMargin,u=l.style||{};return e.ownerRect?(o=n%e.columns,r=Math.floor(n/e.columns),s=o*(c+m)+c,i=r*(c+a)+c,Object.assign(u,{height:`${a}px`,position:"absolute",transform:`translate(${s}px, ${i}px)`,width:`${m}px`}),l.style=u,l):null}onFilter(e){console.log("onFilter",e)}onOwnerMounted(){let e=this;Neo.main.DomAccess.getBoundingClientRect({id:e.owner.id}).then((t=>{Object.assign(e,{columns:Math.floor(t.width/e.itemWidth),ownerRect:t,rows:Math.floor(t.height/e.itemHeight)})}))}onSort(e){let t,n,o=!1,r=e.scope.keyProperty,s=this.owner,i=[],l=s.vdom,a=l.cn.map((e=>e.id));a.length>0&&(e.items.forEach(((e,m)=>{n=s.getItemId(e[r]),t=a.indexOf(n),i.push(l.cn[t]),t!==m&&(o=!0)})),o&&(s.vdom.cn=i,s.promiseVdomUpdate().then((()=>{setTimeout((()=>{s.createItems()}),50)}))))}}Neo.applyClassConfig(s)}}]);