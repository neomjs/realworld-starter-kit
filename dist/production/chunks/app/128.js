"use strict";(self.webpackChunkneo_mjs_realworld_example_app=self.webpackChunkneo_mjs_realworld_example_app||[]).push([[128],{9748:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});var o=n(5074);class s extends o.Z{static getConfig(){return{className:"Neo.plugin.Base",ntype:"plugin",owner:null}}construct(e){super.construct(e);let t=this;t.owner.on("mounted",t.onOwnerMounted,t)}onOwnerMounted(){}}Neo.applyClassConfig(s);class r extends s{static getConfig(){return{className:"Neo.list.plugin.Animate",columns:null,itemHeight:200,itemMargin:10,itemWidth:300,ownerRect:null,rows:null}}construct(e){super.construct(e);let t=this;t.adjustCreateItem(),t.owner.store.on({filter:t.onFilter,sort:t.onSort,scope:t})}adjustCreateItem(){let e=this,t=e.owner;e.ownerCreateItem=t.createItem.bind(t),t.createItem=e.createItem.bind(t,e)}createItem(e,t,n){let o,s,r,i,l=e.ownerCreateItem(t,n),a=e.itemHeight,c=e.itemWidth,m=e.itemMargin,u=l.style||{};return e.ownerRect?(o=n%e.columns,s=Math.floor(n/e.columns),r=o*(m+c)+m,i=s*(m+a)+m,Object.assign(u,{height:`${a}px`,position:"absolute",transform:`translate(${r}px, ${i}px)`,width:`${c}px`}),l.style=u,l):null}onFilter(e){console.log("onFilter",e)}onOwnerMounted(){let e=this;Neo.main.DomAccess.getBoundingClientRect({id:e.owner.id}).then((t=>{Object.assign(e,{columns:Math.floor(t.width/e.itemWidth),ownerRect:t,rows:Math.floor(t.height/e.itemHeight)})}))}onSort(e){let t,n,o=!1,s=e.scope.keyProperty,r=this.owner,i=[],l=r.vdom,a=l.cn.map((e=>e.id));a.length>0&&(e.items.forEach(((e,c)=>{n=r.getItemId(e[s]),t=a.indexOf(n),i.push(l.cn[t]),t!==c&&(o=!0)})),o&&(r.vdom.cn=i,r.promiseVdomUpdate().then((()=>{setTimeout((()=>{r.createItems()}),50)}))))}}Neo.applyClassConfig(r)}}]);